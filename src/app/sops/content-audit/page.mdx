import { ArticleLayout } from '@/components/ArticleLayout'
import { ContentAuditSOPProvider } from '@/components/sop/ContentAuditSOPContext'
import {
    ContentAuditWorkflow,
    ProjectSetupStepWrapper,
    DataUploadStepWrapper,
    AnalysisConfigStepWrapper,
    RunAnalysisStepWrapper,
    ResultsStepWrapper,
    ProgressTrackerWrapper,
} from '@/components/sop/ContentAuditWorkflow'

export const article = {
    author: 'Stefan Wullems',
    date: '2024-12-19',
    title: 'Content Audit with Ahrefs - Interactive SOP',
    description: 'A comprehensive, step-by-step interactive guide for conducting content audits using Ahrefs data. Generate content inventory analysis, time-based performance insights, and export results to CSV.',
}

export const metadata = {
    title: article.title,
    description: article.description,
}

export default (props) => <ArticleLayout article={article} {...props} />

<ContentAuditSOPProvider>

This interactive Standard Operating Procedure (SOP) provides a complete step-by-step process for conducting a content audit using Ahrefs data. Follow each section in order to analyze your or your competitor website's content performance.

Most content audits are tedious manual processes that take hours to complete. This interactive tool transforms that workflow into a streamlined 5-15 minute process that generates professional-grade analysis automatically.

## What This Workflow Delivers

This comprehensive audit system will help you generate two critical analyses that most SEO tools don't provide out of the box:

**Content Inventory Analysis** - A multi-dimensional performance ranking that combines traffic and link metrics into actionable composite scores. You'll get quartile rankings for referring domains, traffic, and link quality, plus a unique "Referring Domains per Visit" metric that shows link efficiency.

**Time-Based Performance Analysis** - Revolutionary insights that show how each page performs relative to content published before it. This temporal analysis reveals performance trends and helps you identify improving or declining content over time.

### Export Capabilities

Everything exports to clean CSV files ready for Excel analysis, reporting, and strategic decision-making. No more manual data manipulation or formatting headaches.

## Progress Overview

Track your progress through each step of the content audit process:

<ProgressTrackerWrapper />

## Step 1: Project Setup

Begin by configuring your content audit project. This establishes the workspace and settings for your analysis.

Before starting, ensure you have:
- **Access to Ahrefs** (Site Explorer specifically)
- **Website domain** to analyze (yours or a competitor's)
- **Basic SEO knowledge** for interpreting results

<ProjectSetupStepWrapper />

## Step 2: Upload Your Data

Upload your Ahrefs CSV export to begin the analysis. Make sure you've exported the data with the correct settings.

### Critical Export Settings

When exporting from Ahrefs Site Explorer, these settings are non-negotiable:

1. Navigate to **Site Explorer â†’ Top Pages**
2. Set date range to **"Don't compare"**
3. **Enable "SERP titles"** (absolutely critical for the analysis)
4. Export as **CSV with UTF-8 encoding**
5. Include all available rows for comprehensive coverage

### Test with Sample Data

Don't have Ahrefs data ready? Download our [sample CSV file](/sample-ahrefs-data.csv) to explore the full workflow. This realistic dataset demonstrates every feature and gives you a complete preview of what your analysis will look like.

<DataUploadStepWrapper />

## Step 3: Configure Analysis

Set up how your content audit analysis will be performed. Choose between median or average calculations and decide whether to include published date analysis.

### Analysis Strategy Guidelines

**For most websites**, use median calculations rather than averages - this provides more stable results when dealing with high backlink variance. Include published date analysis whenever possible for comprehensive temporal insights.

**Published Date Analysis** adds powerful time-based insights but requires fetching data from each page, which can take several minutes. The delay between requests helps avoid being blocked by websites.

<AnalysisConfigStepWrapper />

## Step 4: Run the Analysis

Process your data and generate the comprehensive content audit results. This step will analyze all your pages and create both content inventory and time-based performance insights.

The analysis will:
- Calculate composite performance scores for each page
- Determine quartile rankings across key metrics
- Generate time-based performance indices (if enabled)
- Prepare all data for export and visualization

<RunAnalysisStepWrapper />

## Step 5: View and Export Results

Review your analysis results and export them for further analysis. The results include detailed metrics and insights you can use to optimize your content strategy.

<ResultsStepWrapper />

---

## Complete Interactive Workflow

Here's the full workflow with all steps integrated in one place:

<ContentAuditWorkflow showProgressTracker={false} />

---

## Interpreting Your Results

### Content Inventory Metrics

**Composite Score (2-8 Range)**
This unified performance metric combines referring domains and traffic quartiles. Higher scores indicate better overall performance and should guide your optimization priorities.

**Quartile Classifications**
- **Q4 (Top 25%)**: Your star performers - analyze what makes them successful
- **Q3 (50th-75th percentile)**: Above average content with optimization potential
- **Q2 (25th-50th percentile)**: Below average content needing attention
- **Q1 (Bottom 25%)**: Priority candidates for major improvements or removal

**Referring Domains per Visit**
This unique efficiency metric reveals which content attracts quality backlinks relative to its traffic. High values indicate excellent link-building ROI and content that naturally earns authority.

### Time-Based Analysis Insights

**Understanding Index Values**

The time-based index reveals performance patterns that traditional metrics miss:

- **> 1.5**: Exceptional performers significantly outpacing historical averages
- **1.0-1.5**: Solid performers exceeding typical benchmarks
- **0.5-1.0**: Below average content with clear improvement opportunities
- **< 0.5**: Underperformers requiring immediate strategic attention

**Strategic Applications**

Use these temporal insights to identify successful content patterns, spot underperforming recent content, understand seasonal trends, and plan your content calendar based on proven performance patterns.

## Strategic Recommendations

### Amplifying High Performers

Your top-quartile content deserves strategic amplification. Analyze what makes these pieces successful - topic selection, content depth, format, or promotion strategy. Use high performers as internal linking hubs and keep them current with regular updates.

### Rehabilitating Underperformers

Content in the bottom quartiles needs systematic improvement. Audit for accuracy and depth, check for technical SEO issues, optimize keyword targeting, and improve user experience elements like readability and structure.

### Leveraging Time-Based Insights

Temporal analysis reveals your content's performance trajectory. Look for patterns in successful content timing, establish update cycles for declining pieces, and use historical performance data to inform your content calendar strategy.

## Optimization Tips

### Data Quality Best Practices

Successful audits start with complete, accurate data exports. Always include SERP titles in your Ahrefs export, use appropriate delay settings during published date fetching to avoid being blocked, and verify CSV formatting before upload.

### Ongoing Monitoring Framework

Run quarterly audits to track content performance trends over time. Compare results between audit cycles to measure content strategy effectiveness, and use insights to continuously refine your content creation and optimization priorities.

## Troubleshooting Common Issues

**"No valid data rows found"**
This typically indicates CSV formatting issues. Verify you exported from Ahrefs Top Pages (not other sections), ensure SERP titles were enabled, and check that your CSV has proper headers.

**Published date fetching failures**
Some pages lack discoverable published dates - this is normal and won't affect your overall analysis. Pages without dates simply get excluded from time-based analysis while remaining in the content inventory assessment.

**Performance optimization**
For large datasets or slower processing, reduce the published date delay setting, consider processing smaller initial batches (under 1000 pages), and remember that published date fetching is the most time-intensive part of the workflow.

The interactive tool provides detailed guidance and error messaging for each step, making troubleshooting straightforward and keeping your analysis moving forward smoothly.

</ContentAuditSOPProvider>
